<!--
	This Basic theme serves as an example for how to create other
	themes by demonstrating the features with minimal HTML and CSS.
	Comments like this will be through the code to explain briefly
	what each feature is and point you to the MkDocs documentation
	to find out more.
-->
<!DOCTYPE html>
<head>
	
	<meta charset="UTF-8" />
	
	<!--
		The page_title contains the title for a page as shown in the navigation.
		Site name contains the name as defined in the mkdocs.yml
	-->
	<title>08 فصل هشتم - تفکر پایتونی</title>

	<!--
		Support custom favicon support.
		http://www.mkdocs.org/user-guide/configuration/#site_favicon
	-->
	
		<link rel="shortcut icon" href="../img/favicon.ico">
	

	<!--
		You can include external assets of course, but be aware that it means the
		documentation may not work well offline.
	-->
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">

	<link rel="stylesheet" href="../css/theme.css">

	<!--
		extra_ess contains paths to CSS files in the users
		documentation directory or a list of CSS files defined in
		their mkdocs.yml.

		http://www.mkdocs.org/user-guide/configuration/#extra_css
	-->
	

	<link rel="stylesheet" href="../css/darkula.css">
	<script src="../js/highlight.pack.js"></script>
	
	<!--
		Include Google Analytics tracking code.

		http://www.mkdocs.org/user-guide/configuration/#google_analytics
	-->
	

	
	
</head>

<body>

	<div class="sidebar left">

		<ul>
		
			
				
				

	<li >
	
		<a href="..">Home</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../01-فصل اول/">01 فصل اول</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../02-فصل دوم/">02 فصل دوم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../03-فصل سوم/">03 فصل سوم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../04-فصل چهارم/">04 فصل چهارم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../05-فصل پنجم/">05 فصل پنجم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../06-فصل ششم/">06 فصل ششم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../07-فصل هفتم/">07 فصل هفتم</a>
		
	</li>


			
			
				
				

	<li class="active">
	
		<a href="./">08 فصل هشتم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../09-فصل نهم/">09 فصل نهم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../10-فصل دهم/">10 فصل دهم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../11-فصل یازدهم/">11 فصل یازدهم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../12-فصل دوازدهم/">12 فصل دوازدهم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../13-فصل سیزدهم/">13 فصل سیزدهم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../14-فصل چهاردهم/">14 فصل چهاردهم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../15-فصل پانزدهم/">15 فصل پانزدهم</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../16-فصل شانزده/">16 فصل شانزده</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../17-فصل هفده /">17 فصل هفده </a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../18-فصل هجده/">18 فصل هجده</a>
		
	</li>


			
			
				
				

	<li >
	
		<a href="../19-فصل نوزده/">19 فصل نوزده</a>
		
	</li>


			
			
		
		</ul>
		
	</div>
	
	<div class="body rel right">
	
		<header>
		
			<div class="right">
			
				<h1>08 فصل هشتم - تفکر پایتونی</h1>
			
			</div>
		
			<div role="search" class="left">
			
				<form action="../search.html" class="rel" method="get">
				
					<input type="text" name="q" placeholder="جستجو" />
					
					<input type="submit" class="abs search-submit" value="" />
					
				</form>
				
			</div>
		
		</header>
		
		<main class="rel oh">
		
			
		
				<div class="left toc">
				
					<ul>
						
						
							
							<li class="title">
							
								<a href="#_1">#### ۸.۱ رشته یعنی دنباله</a>
								
							</li>
							
							
							
						
							
							<li class="title">
							
								<a href="#len">#### ۸.۲ len</a>
								
							</li>
							
							
							
						
							
							<li class="title">
							
								<a href="#for">#### ۸.۳ گردش با استفاده از حلقه for</a>
								
							</li>
							
							
							
						
							
							<li class="title">
							
								<a href="#_2">#### ۸.۴ تکه های رشته</a>
								
							</li>
							
							
							
						
							
							<li class="title">
							
								<a href="#_3">#### ۸.۵ رشته ها تغییر ناپذیرند</a>
								
							</li>
							
							
							
						
							
							<li class="title">
							
								<a href="#_4">#### ۸.۶ جستجو</a>
								
							</li>
							
							
							
						
						
					</ul>
					
				</div>
			
			
			
			<div class="right content">
		
				
					
					<p><em>فصل ۸</em></p>
<p>رشته ها</p>
<h6 id="_1">#### <span id="anchor"></span><strong>۸.۱ رشته یعنی دنباله</strong></h6>
<p>هر رشته یک دنباله از کاراکتر هاست. شما میتوانید هر بار به یکی از کاراکتر
ها با استفاده از عملگر براکت دسترسی پیدا کنید.</p>
<p>&gt;&gt;&gt; fruit = ‘banana’</p>
<p>&gt;&gt;&gt; letter = fruit[1]</p>
<p>دستور دوم کاراکتر شماره ۱ را از متغیر fruit انتخاب کرده و در متغیر
letter قرار میدهد.</p>
<p>عبارت داخل براکت اندیس نامیده میشود. اندیس نشان میدهد که شما کدام
کاراکتر داخل دنباله را میخواهید.</p>
<p>البته ممکن است نتیجه مطابق میل شما نباشد:</p>
<p>&gt;&gt;&gt; print letter</p>
<p>a</p>
<p>برای بیشتر افراد، اولین کاراکتر در 'banana' کاراکتر b است، نه a. ولی
برای متخصصان کامپیوتر، اندیس فاصله هر کاراکتر از ابتدای رشته است، و
فاصله اولین کاراکتر از ابتدای رشته صفر است.</p>
<p>&gt;&gt;&gt; letter = fruit[0]</p>
<p>&gt;&gt;&gt; print letter</p>
<p>b</p>
<p>پس b صفرمین کاراکتر در رشته 'banana' است، a اولین کاراکتر و n دومین
کاراکتر است.</p>
<p>شما میتوانید از هر عبارتی داخل براکت به عنوان اندیس استفاده کنید، از
جمله متغیرها و عملگرها، ولی اندیس همیشه باید عدد صحیح باشد. در غیر
اینصورت با این خطا مواجه میشوید.</p>
<p>&gt;&gt;&gt; letter = fruit[1.5]</p>
<p>TypeError: string indices must be integers</p>
<h6 id="len">#### <span id="anchor-1"></span><strong>۸.۲ len</strong></h6>
<p>len یک تابع داخلی است که تعداد کاراکتر های داخل یک رشته را بر میگرداند.</p>
<p>&gt;&gt;&gt; fruit = ‘banana’</p>
<p>&gt;&gt;&gt; len(fruit)</p>
<p>6</p>
<p>شاید بخواهید برای گرفتن آخرین کاراکتر یک رشته به این شکل عمل کنید:</p>
<p>&gt;&gt;&gt; length = len(fruit)</p>
<p>&gt;&gt;&gt; last = fruit[length]</p>
<p>IndexError: string index out of range</p>
<p>دلیل IndexError این است که هیچ کاراکتری در 'banana' با اندیس ۶ وجود
ندارد. از آنجا که ما برای شمردن از صفر شروع میکنیم، ۶ کاراکتر دارای
اندیس هایی بین صفر تا ۵ هستند.</p>
<p>&gt;&gt;&gt; last = fruit[length-1]</p>
<p>&gt;&gt;&gt; print last</p>
<p>a</p>
<p>همچنین میتوانید از اندیس های منفی استفاده کنید، که به این شکل برعکس از
انتهای رشته شمرده میشود. به این شکل که عبارت [fruit[-1 نشان دهنده
آخرین کاراکتر، [fruit[-2 نشان دهنده کاراکتر یکی مانده به آخر است.</p>
<h6 id="for">#### <span id="anchor-2"></span><strong>۸.۳ گردش با استفاده از حلقه for</strong></h6>
<p>بیشتر محاسبات شامل پردازش یک کاراکتر در هر لحظه است. معمولا در این
محاسبات از ابتدای رشته شروع میکنند، هر کاراکتر را در هر مرتبه انتخاب
میکنند و پس از انجام یک سری عملیات، به کاراکتر بعدی میروند. به این شیوه
پردازش گردش میگویند. یک راه نوشتن یک گردش، استفاده از حلقه while است:</p>
<p>index = 0</p>
<p>while index &lt; len(fruit):</p>
<p>letter = fruit[index]</p>
<p>print letter</p>
<p>index = index + 1</p>
<p>این حلقه در رشته میچرخد و هر کاراکتر را در یک خط جداگانه نمایش میدهد.
شرط حلقه</p>
<p>(index &lt; len(fruit است، پس وقتی index برابر با طول رشته شود، شرط دیگر
برقرار نیست و باعث میشود که بدنه حلقه اجرا نشود. آخرین کاراکتری که به
عنوان دسترسی پیدا میشود دارای اندیس len(fruit) - 1 است، که آخرین کاراکتر
رشته است.</p>
<p>تمرین ۸.۱ تابعی بنویسید که یک رشته را به عنوان آرگومان دریافت کند و از
انتها، شروع به نمایش کاراکتر ها در هر خط کند.</p>
<p>یک راه دیگر نوشتن گردش استفاده از حلقه for است:</p>
<p>for char in fruit:</p>
<p>print char</p>
<p>هر بار در حلقه، کاراکتر جدید به متغیر char نسبت داده میشود. حلقه تا جایی
که کاراکتری باقی نماند ادامه پیدا میکند.</p>
<p>مثال بعد نشان می دهد که چطور میتوان از عملگر جمع برای الحاق دو رشته با
استفاده از حلقه for کلمات مختلف ایجاد کرد.</p>
<p>prefixes = ‘JKLMNOPQ’</p>
<p>suffix = ‘ack’</p>
<p>for letter in prefixes:</p>
<p>print letter + suffix</p>
<p>خروجی:</p>
<p>Jack</p>
<p>Kack</p>
<p>Lack</p>
<p>Mack</p>
<p>Nack</p>
<p>Oack</p>
<p>Pack</p>
<p>Qack</p>
<p>تمرین ۸.۲ مثال رو طوری اصلاح کنید که به جای 'Oack' و 'Qack' کلمه های
'Ouack' و 'Quack' نمایش داده شود.</p>
<h6 id="_2">#### <span id="anchor-3"></span><strong>۸.۴ تکه های رشته</strong></h6>
<p>هر قطعه از یک رشته تکه نام دارد. انتخاب یک تکه مانند انتخاب یک کاراکتر
است:</p>
<p>&gt;&gt;&gt; s = ‘Monty Python’</p>
<p>&gt;&gt;&gt; print s[0:5]</p>
<p>Monty</p>
<p>&gt;&gt;&gt; print s[6:13]</p>
<p>Python</p>
<p>عملگر [n:m] مقدار تکه ای از رشته از nمین کاراکتر تا mمین کاراکتر را
برمیگرداند که شامل کاراکتر شماره n میشود ولی شامل کاراکتر شماره m
نمیشود. این رفتار شاید غیرمنطقی به نظر برسد ولی ممکن است این تصویر به
شما کمک کند.</p>
<p>fruit-&gt;’banana’</p>
<p>اگر عدد قبل از 'دو نقطه' رو پاک کنید ( [5:] ) باعث میشود که تکه از
اولین کاراکتر شروع شود و اگر عدد بعد از دو نقطه را پاک کنید ( [:6] )
تکه تا آخرین کاراکتر ادامه پیدا میکند.</p>
<p>&gt;&gt;&gt; fruit = ‘banana’</p>
<p>&gt;&gt;&gt; fruit[:3]</p>
<p>ban</p>
<p>&gt;&gt;&gt; fruit[3:]</p>
<p>ana</p>
<p>اگر اندیس اول برابر با اندیس دوم باشد باعث میشود یک رشته خالی برگردانده
شود، که به این شکل نمایش داده میشود.</p>
<p>&gt;&gt;&gt; fruit = ‘banana’</p>
<p>&gt;&gt;&gt; fruit[3:3]</p>
<p>‘’</p>
<p>رشته خالی هیچ کاراکتری ندارد و دارای طول صفر است. به جز این تمام خصوصیات
یک رشته خالی مانند یک رشته معمولی است.</p>
<p>تمرین ۸.۳ با توجه به اینکه متغیر fruit یک رشته است،[:]fruit چه معنی ای
دارد؟</p>
<h6 id="_3">#### <span id="anchor-4"></span><strong>۸.۵ رشته ها تغییر ناپذیرند</strong></h6>
<p>ممکن است بخواهید از عملگر [ ] در سمت چپ یک تساوی استفاده کنید تا یک
تکه از رشته را تغییر دهید. به طور مثال:</p>
<p>&gt;&gt;&gt; greeting = ‘Hello, world!’</p>
<p>&gt;&gt;&gt; greeting[0] = ‘J’</p>
<p>TypeError: object does not support item assignment</p>
<p>در اینجا شئ همان رشته و آیتم هم کاراکتری است که سعی کردیم تغییر دهیم. در
حال حاضر هر شئ را همان 'مقدار' تصور کنید، ولی بعدا این مفهوم را تعریف
میکنیم. یک آیتم یک کاراکتر در یک دنباله است.</p>
<p>دلیل نمایش این خطا این است که رشته ها تغییر ناپذیرند، به این معنی که شما
نمیتوانید یک رشته تعریف شده را تغییر دهید. بهترین کاری که میتوان کرد این
است که یک رشته دیگر تعریف کنید که شامل بخشی از رشته اصلی است:</p>
<p>&gt;&gt;&gt; greeting = ‘Hello, world!’</p>
<p>&gt;&gt;&gt; new_greeting = ‘J’ + greeting[1:]</p>
<p>&gt;&gt;&gt; print new_greeting</p>
<p>Jello, world!</p>
<p>با اینکار یک کاراکتر به تکه ای از greeting اضافه خواهد کرد و هیچ تغییری
روی متغیر greeting ایجاد نمیکند.</p>
<h6 id="_4">#### <span id="anchor-5"></span><strong>۸.۶ جستجو</strong></h6>
<p>تابع زیر چه کاری انجام میدهد؟</p>
<p>def find(word, letter):\
 index = 0\
 while index &lt; len(word):\
 if word[index] == letter:\
 return index\
 index = index + 1\
 return -1</p>
<p>شاید بتوان گفت که تابع find متضاد عملگر [ ] می‌باشد. به جای گرفتن
اندیس و دریافت کاراکتر متناسب، این تابع کاراکتر را به عنوان ورودی
می‌پذیرد و اندیس آن کاراکتر را به عنوان خروجی می‌دهد. اگر کاراکتر پیدا
نشد تابع مقدار -۱ را برمیگرداند.</p>
<p>این اولین باریست که از return استفاده میکنیم. اگر word[index] ==
letter، تابع بلافاصله از حلقه خارج میشود و خروجی را برمیگرداند.</p>
<p>اگر کاراکتر در رشته وجود نداشته باشد، برنامه به شکل قابل پیش بینی از
حلقه خارجی میشود و مقدار -۱ را برمیگرداند.</p>
<p>این پترن محاسبه، گردش در یک رشته و برگرداندن هنگامی که چیزی که به دنبالش
هستیم پیدا شد، جستجو نامیده میشود.</p>
<p>تمرین ۴</p>
<p>تابع find را ویرایش کنید که پارامتر سومی هم بگیرد، اندیسی در رشته که
جستجو از آنجا شروع شود.</p>
<p>۸.۷ حلقه و شمارش</p>
<p>برنامه زیر تعداد دفعاتی که حرف a در یک رشته دیده میشود را می‌شمارد:</p>
<p>word = 'banana'\
count = 0\
for letter in word:\
 if letter == 'a':\
 count = count + 1\
print count</p>
<p>این برنامه پترن دیگری از محاسبه به نام شمارشگر (Counter) را معرفی میکند.
متغیر count با مقدار ۰ ایجاد میشود و هربار که a پیدا شد یکی به آن اضافه
میشود. وقتی حلقه تمام میشود، count مقدار نهایی را در خود دارد، تعداد
aها.</p>
<p>تمرین ۵</p>
<p>این کد را در یک تابع قرار دهید (Encapsulate) و آن را عمومی سازی کنید،
یعنی به a هر رشته دیگری بتوان به عنوان پارامتر به آن داد.</p>
<p>تمرین ۶</p>
<p>این تابع را طوری ویرایش کنید که به جای گردش در رشته، از تابع سه پارامتری
find در موضوع قبل استفاده کند.</p>
<p>۸.۸ متد های رشته</p>
<p>یک متد مشابه تابع است، آرگومان هایی دریافت میکند و مقداری را
بازمیگرداند، ولی Syntax متفاوت است. به طور مثال، متد upper یک رشته
میگیرد و یک رشته تازه با حروف بزرگ بازمیگرداند:</p>
<p>به جای Syntax تابع مانند به شکل upper(word) از یک Syntax متد به شکل
word.upper() استفاده میشود.</p>
<p>&gt;&gt;&gt; word = ‘banana’</p>
<p>&gt;&gt;&gt; new_word = word.upper()</p>
<p>&gt;&gt;&gt; print new_word</p>
<p>BANANA</p>
<p>این شیوه استفاده از نماد نقطه نشان میدهد که نام متد، upper، و نام
رشته‌ای که متد روی آن اعمال میشود word هست.</p>
<p>اجرای متد فراخوانی (Invocation) نام دارد؛ در این حالت میگوییم که متد
upper روی word فراخوانی شده است.</p>
<p>آن طور که مشخص می‌شود، یک متد مخصوص رشته به اسم find مشابه تابعی که ما
نوشتیم وجود دارد:</p>
<p>&gt;&gt;&gt; word = ‘banana’</p>
<p>&gt;&gt;&gt; index = word.find(‘a’)</p>
<p>&gt;&gt;&gt; print index</p>
<p>1</p>
<p>در این مثال، ما متد find را روی word فراخوانی میکنیم و حرفی که میخواهیم
در رشته پیدا کنیم را به عنوان پارامتر به آن میدهیم.</p>
<p>البته متد find موجود از تابعی که نوشتیم عمومی‌تری است که علاوه بر
کاراکتر، تکه‌رشته هم میتواند در رشته ها پیدا کند:</p>
<p>&gt;&gt;&gt; word.find(‘na’)</p>
<p>2</p>
<p>همینطور این متد میتواند پارامتر دومی هم بگیرد، اندیس جایی که باید شروع
به جستجو کند:</p>
<p>&gt;&gt;&gt; word.find(‘na’, 3)</p>
<p>4</p>
<p>و البته پارامتر سومی که اندیس جایی است که جستجو باید پایان یابد:</p>
<p>&gt;&gt;&gt; name = ‘bob’</p>
<p>&gt;&gt;&gt; name.find(‘b’, 1, 2)</p>
<p>-1</p>
<p>جستجو به نتیجه‌ای نمیرسد چون b بین بازه ۱ و ۲ وجود ندارد (خود ۲ در بازه
وجود ندارد).</p>
<p>تمرین ۷</p>
<p>یک متد مربوط به رشته به اسم count وجود دارد که مشابه تابعی است که در
موضوع قبل نوشتیم. مستندات مربوط به این متد را مطالعه کنید و یک فراخوان
بنویسید که تعداد کاراکتر های a در رشته 'banana' را برگرداند.</p>
<p>تمرین ۸</p>
<p>مستندات مربوط به متد های رشته را در<a href="http://docs.python.org/2/library/stdtypes.html#string-methods">
</a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>http</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>://</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>docs</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>.</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>python</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>.</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>org</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>/2/</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>library</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>/</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>stdtypes</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>.</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>html</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>#</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>string</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>-</em></a><a href="http://docs.python.org/2/library/stdtypes.html#string-methods"><em>methods</em></a>
مطالعه کنید. بهتر است هر کدام آنها را آزمایش کنید تا با کارایی آنها
بیشتر آشنا شوید. strip و replace از پر استفاده ترین متد ها هستند.</p>
<p>این مستندات از نوعی Syntax استفاده میکنند که ممکن است کمی گیج‌کننده
باشد. به عنوان مثال در find(sub[, start[, end]]) براکت ها نشان‌دهنده
آرگومان‌های غیرضروری‌اند. در نتیجه sub ضروری است ولی start ضروری نیست.
اگر از start استفاده کنید، آنگاه end هم قابل استفاده ولی غیرضروری است.</p>
<p>۸.۹ عملگر in</p>
<p>کلمه in یک عملگر بولین (Boolean) است که دو رشته را میگیرد و اگر رشته اول
تکه رشته ای از دومی باشد مقدار True را برمیگرداند.</p>
<p>&gt;&gt;&gt; 'a’ in ‘banana’</p>
<p>True</p>
<p>&gt;&gt;&gt; ‘seed’ in ‘banana’</p>
<p>False</p>
<p>به عنوان مثال، تابع زیر تمام کاراکترهای word1 که در word2 هم وجود دارد
را چاپ میکند.</p>
<p>def in_both(word1, word2)</p>
<p>for letter in word1:</p>
<p>if letter in word2</p>
<p>print letter</p>
<p>اگر نام متغیر ها به خوبی انتخاب شده باشند، پایتون تقریبا شبیه انگلیسی
قابل خواندن خواهد بود. این حلقه را میتوان به این شکل خواند:</p>
<p>"For (each) letter in (the first) word, if (the) letter (appears) in
(the second) word, print (the) letter.”</p>
<p>اگر دو رشته apples و oranges را با هم مقایسه کنید این نتیجه را میگیرید:</p>
<p>&gt;&gt;&gt; in_both(‘apples’, ‘oranges’)</p>
<p>a</p>
<p>e</p>
<p>s</p>
<p>8.10 مقایسه رشته ها</p>
<p>عملگر های مقایسه ای روی رشته ها هم کار میکنند. برای اینکه ببینیم دو رشته
برابرند:</p>
<p>if word == ‘banana’:</p>
<p>print ‘All right, bananas.’</p>
<p>بقیه عملگر های مقایسه ای مناسب مرتب کردن کمات در ترتیب الفبایی است:</p>
<p>if word &lt; ‘banana’:</p>
<p>print ‘Your word,’ + word + ‘, comes before banana.’</p>
<p>elif word &gt; ‘banana’:</p>
<p>print ‘Your word,’ + word + ‘, comes after banaba.’</p>
<p>else:</p>
<p>print ‘All right, bananas.’</p>
<p>پایتون حروف بزرگ و کوچک را مانند انسان ها نمیشناسد. تمام حروف بزرگ قبل
از تمام حروف کوچک می آیند. در نتیجه:</p>
<p>Your word, Pineapple, comes before banana.</p>
<p>یک راه معمول برای رفع این مشکل این است که رشته را به حالتی استاندارد
تبدیل کنیم. مثلا تماما حروف کوچک، و پس از آن مقایسه را انجام دهیم.</p>
<p>8.11 رفع مشکل (Debugging)</p>
<p>زمانی که میخواهید از اندیس ها استفاده کنید تا در رشته ها گردش کنید، ممکن
است مشکل باشد که به اول یا آخر رشته به درستی گردش انجام شود. تابع زیر
قرار است که دو کلمه را با هم مقایسه کند و مقدار True را برگرداند اگر یکی
از آن دو کلمه برععکس دیگری باشد، ولی این کد حاوی دو خطاست:</p>
<p>def is_reverse(word1, word2):</p>
<p>if len(word1) != len(word2):</p>
<p>return False</p>
<p>i = 0</p>
<p>j = len(word2)</p>
<p>while j &gt; 0:</p>
<p>if word1[i] != word2[j]</p>
<p>return False</p>
<p>i = i+1</p>
<p>j = j-1</p>
<p>اولین if بررسی میکن که طول دو رشته با هم برابر است و اگر نبود مقدار
False را بلافاصله برمیگرداند، در باقی تابع، ما فرض میکنیم که طول دو رشته
برابر است. این مثالی از پترن Guardian معرفی شده در بخش 6.8 است.</p>
<p>i و j اندیس هستند: i در word1 به سمت جلو گردش میکند در حالی که j در
word2 به سمت عقب. اگر دو حرف پیدا کنیم که با هم برابر نیستند False را
برمیگردانیم. اگر در کل حلقه بچرخیم و همه حروف با هم برابر باشند، مقدار
True بازگردانده میشود.</p>
<p>اگر ما این تابع را با دو کلمه "pots" و "stop" امتحان کنیم، انتظار داریم
که پاسخ True باشد ولی یک خطای IndexError دریافت میکنیم:</p>
<p>&gt;&gt;&gt; is_reverse('pots', 'stop')\
...\
 File "reverse.py", line 15, in is_reverse\
 if word1[i] != word2[j]:\
IndexError: string index out of range</p>
<p>برای رفع مشکل اینگونه خطا، اولین کاری که من انجام میدهم این است که همه
اندیس ها را چاپ کنم تا جایی که به خطا میرسد.</p>
<p>while j &gt; 0:\
 print i, j # print here\
 \
 if word1[i] != word2[j]:\
 return False\
 i = i+1\
 j = j-1</p>
<p>حالا اگر دوباره برنامه را اجرا کنیم، این اطلاعات را دریافت میکنیم:</p>
<p>&gt;&gt;&gt; is_reverse(‘pots’, ‘stop’)</p>
<p>0 4</p>
<p>…</p>
<p>IndexError string index out of range</p>
<p>اولین بار که حلقه اجرا میشود، مقدار j برابر 4 است که خارج از بازه رشته
'pots' هست. اندیس آخرین کاراکتر 3 است، در نتیجه اولین مقدار j باید
len(word2)-1 باشد.</p>
<p>اگر این خطا را اصلاح کنیم و برنامه را دوباره اجرا کنیم، این نتیجه را
دریافت میکنیم:</p>
<p>&gt;&gt;&gt; is_reverse('pots', 'stop')\
0 3\
1 2\
2 1\
True</p>
<p>این بار ما پاسخ درست را دریافت میکنیم ولی به نظر میرسد که حلقه سه بار
اجرا شده است که کمی مشکوک است. برای اینکه بهتر متوجه شویم که چه اتفاقی
می افتد بهتر است که نمودار حالت مربوط به برنامه را بکشیم. حین اولین
گردش، نموار is_reverse به شکل 8.2 است.</p>
<p>با رسم خط ها و مرتب کردن متغیر ها در این شکل مشخص شده که i و j اندیس های
کاراکتر های کلمات word1 و word2 هستند.</p>
<p>تمرین 9</p>
<p>با استفاده از این نمودار برنامه را روی کاغذ اجرا کنید، مقدار های i و j
را حین هر گردش عوض میکنیم. خطای دوم را پیدا کنید و مشکل را رفع کنید.</p>
<p>8.12 کلمات</p>
<p>object (شی):</p>
<p>چیزی که متغیر به آن اشاره میکند. فعلا، object (شی) را همان value (مقدار)
فرض کنید.</p>
<p>sequence (رشته):</p>
<p>یک لیست مرتب شده؛ یعنی لیستی از مقادیر که هرکدام از مقدارها با یک اندیس
از جنس عدد صحیح مشخص شده است.</p>
<p>item (مورد):</p>
<p>یکی از مقادیر موجود در sequence.</p>
<p>index (اندیس):</p>
<p>یه مقدار عدد صحیح که برای انتخاب یک item از sequence استفاده میشود،
مانند انتخاب کاراکتر از رشته.</p>
<p>slice (تکه):</p>
<p>بخشی از رشته که با بازه‌ای از اندیس‌ها نمایش داده میشود.</p>
<p>empty string (رشته خالی):</p>
<p>یک رشته بدون کاراکتر با طول صفر، نمایش داده شده با علامت نقل قول.</p>
<p>immutable (غیرقابل تغییر):</p>
<p>عضوی از sequence که اعضای آن قابل تغییر نیست.</p>
<p>traverse (گردش):</p>
<p>چرخیدن بین آیتم‌های یک sequence و اعمال تغییراتی روی هرکدام.</p>
<p>search (جستجو):</p>
<p>شیوه‌ای از گردش که هر وقت چیزی که میخواهد را پیدا کرد، متوقف میشود.</p>
<p>counter (شمارنده):</p>
<p>متغیری که برای شمردن چیزی استفاده میشود، معمولا با مقدار صفر ساخته میشود
و به آن اضافه میشود.</p>
<p>method (متد):</p>
<p>تابعی که به یک شی متصل شده و با علامت نقطه فراخوانی میشود.</p>
<p>invocation (فراخوانی):</p>
<p>عملگری که یک متد را فراخوانی میکند.</p>
<p>۸.۱۳ تمرین ها</p>
<p>تمرین ۱۰</p>
<p>یک تکه رشته (slice) میتواند یک اندیس سوم هم بگیرد که نشان دهنده طول قدم
(step size)، به معنی فاصله بین هر دو کاراکتر از رشته که در برش قرار
میگیرد. طول قدم ۲ به معنی یک کاراکتر در میان و طول قدم ۳ به معنی دو
کاراکتر در میان است.</p>
<p>&gt;&gt;&gt; fruit = ‘banana’</p>
<p>&gt;&gt;&gt; fruit[0:5:2]</p>
<p>‘bnn’</p>
<p>طول قدم -۱ رشته را برعکس پیمایش میکند، در نتیجه برش مربوط به [-1::] یک
رشته برعکس از رشته فعلی تولید میکند.</p>
<p>از این قابلیت استفاده کنید تا یک نسخه تک خطی از تابع is_palindrome از
تمرین ۶ را بازنویسی کنید.</p>
<p>تمرین ۱۱</p>
<p>قرار است که تابع زیر بررسی کند که یک رشته شامل حروف کوچک میشود یا خیر،
ولی شامل خطاست.</p>
<p>برای هر تابع توضیح دهید که هر تابع دقیقا چکار میکند (با توجه به اینکه
پارامتر یک رشته است)/</p>
<p><em>def any_lowercase1(s):\
 for c in s:\
 if c.islower():\
 return True\
 else:\
 return False\
\
def any_lowercase2(s):\
 for c in s:\
 if 'c'.islower():\
 return 'True'\
 else:\
 return 'False'\
\
def any_lowercase3(s):\
 for c in s:\
 flag = c.islower()\
 return flag\
\
def any_lowercase4(s):\
 flag = False\
 for c in s:\
 flag = flag or c.islower()\
 return flag\
\
def any_lowercase5(s):\
 for c in s:\
 if not c.islower():\
 return False\
 return True</em></p>
<p>تمرین ۱۲</p>
<p>ROT13 یک شیوه رمزگذاری بسیار ضعیف است که شامل "چرخاندن" هر حرف در کلمه
تا ۱۳ تا جلوتر است؛ به این معنی که هر کاراکتر در الفبا به کاراکتری تبدیل
میشود که ۱۳ تا از خودش جلوتر است. درنتیجه چرخاندن A به ۳ تا جلوتر به D
تبدیل میشود و چرخاندن Z به یکی جلوتر به A.</p>
<p>تابعی با نام rotate_word بنویسید که یک رشته و یک عدد صحیح به عنوان
پارامتر میگیرد، رشته تازه‌ای برمیگرداند که حروف در آن نسبت به حروف رشته
اصلی به مقدار عدد صحیح وارد شده چرخیده‌اند.</p>
<p>به طور مثال cheer اگر به مقدار ۷ بچرخد به jolly تبدیل میشود و melon اگر
به مقدار -۱۰ بچرخد به cubed.</p>
<p>شاید بخواهید از توابع از پیش ساخته ord که هر حرف را به یک کد عددی و chr
که آن کد ها را به حروف تبدیل میکند استفاده کنید.</p>
<p>برخی از جوک‌های اهانت آمیر در اینترنت به شیوه ROT13 رمزگذاری شده‌اند.
اگر فکر میکنید که به شما برنمیخورد، آن‌ها را پیدا کنید و رمزشان را
بشکنید. راه‌حل: ‌http://thinkpython.com/code/rotate.py</p>
				
				

			</div>

		</main>
	
		<footer class="oh">
		
			
			
			<a class="right" href="http://www.mkdocs.org">ساخته شده توسط: MkDocs.</a>

		</footer>
	
	</div>
	
	<!--
		To include static assets from our theme, just add
		.. beforehand which will be the relative path to
		the root of the documentation.
	-->
	<script src="../js/theme.js"></script>

	<!--
		extra_javascript contains paths to JavaScript files in the
		users documentation directory or a list of JavaScript files
		defined in their mkdocs.yml.

		http://www.mkdocs.org/user-guide/configuration/#extra_javascript
	-->
	

</body>
</html>